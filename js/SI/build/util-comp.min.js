!function(a,b){function c(a){this.el=a,a=a.className.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var b=0;b<a.length;b++)h.call(this,a[b])}function d(a,b,c){Object.defineProperty?Object.defineProperty(a,b,{get:c}):a.__defineGetter__(b,c)}var e=(b.createAttribute("button"),b.createElement("div")),f=b.createElement("input");if(a.addEventListener||(Element.prototype.addEventListener=a.addEventListener=function(a,b){this.attachEvent("on"+a,b)},Element.prototype.removeEventListener=a.removeEventListener=function(a,b){this.detachEvent("on"+a,b)}),!("classList"in e)){var g=Array.prototype,h=g.push,i=g.splice,j=g.join;c.prototype={add:function(a){this.contains(a)||(h.call(this,a),this.el.className=this.toString())},contains:function(a){return-1!=this.el.className.indexOf(a)},item:function(a){return this[a]||null},remove:function(a){if(this.contains(a)){for(var b=0;b<this.length&&this[b]!=a;b++);i.call(this,b,1),this.el.className=this.toString()}},toString:function(){return j.call(this," ")},toggle:function(a){return this.contains(a)?this.remove(a):this.add(a),this.contains(a)}},a.DOMTokenList=c,d(Element.prototype,"classList",function(){return new c(this)})}if(a.forEachElement=function(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)},a.trimString=function(a){return a.replace(/^\s+|\s+$/g,"")},"placeholder"in f||a.forEachElement(b.querySelectorAll("[placeholder]"),function(a){var b=a.getAttribute("placeholder");a.value=b,a.addEventListener("focus",function(){trimString(a.value)===b&&(a.value="")},!1),a.addEventListener("blur",function(){""===trimString(a.value)&&(a.value=b)},!1)}),a.mq=function(b){return!a.matchMedia||!Modernizr.cssanimations||a.matchMedia&&a.matchMedia(b).matches},a.matchMedia&&a.matchMedia("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)").matches&&a.forEachElement(b.querySelectorAll(".dpi"),function(a){var b=a.src,c=b.indexOf("/img/")+5,d=b.substring(c),e=d.indexOf(".");d=d.substring(0,e)+"-@2"+d.substring(e),b=b.substring(0,c)+d,a.src=b}),b.querySelectorAll(".eq-height")){var k=b.querySelectorAll(".eq-height");a.forEachElement(k,function(b){var c=b.querySelectorAll(".eq-height-item"),d=b.querySelectorAll("img"),e=[],f=d.length,g=0,h=function(){for(var a=!0,b=0;f>b;b++)e[b]||(a=!1);a&&i()},i=function(){a.forEachElement(c,function(a){var b,c=$(a).outerHeight();a.querySelectorAll("img")&&(b=$(a).find("img").first().height(),b>c&&(c=b+$(a).css("margin-bottom"))),c>g&&(g=c)}),a.forEachElement(c,function(a){a.style.height=g+"px"})};if(!b.classList.contains("eq-height-no-mbl")||a.mq("(min-width:1024px"))if(f>0){for(var j=0;f>j;j++)e[j]=!1;a.forEachElement(d,function(a,b){var c=b;a.complete?(e[c]=!0,h()):a.addEventListener("load",function(){e[c]=!0,h()},!1)})}else i()})}a.getHiddenProp=function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null},a.isTabHidden=function(){var a=getHiddenProp();return a?document[a]:!1}}(window,window.document,void 0),function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a,b){var c,d;window.SI={settings:{viewportmeta:a.querySelector&&a.querySelector('meta[name="viewport"]'),ua:navigator.userAgent,moduleId:-1},elements:{editorWrapper:null,quillEditor:null,btnQuillSave:null},init:function(){c=this.settings,d=this.elements,this.scaleFix(),this.initNav(),this.initSlides()},scaleFix:function(){c.viewportmeta&&/iPhone|iPad|iPod/.test(c.ua)&&!/Opera Mini/.test(c.ua)&&(c.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",a.addEventListener("gesturestart",function(){c.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},!1))},ajax:function(a,c,d,e){return"string"!=typeof c&&(c=JSON.stringify(c)),b.ajax({cache:!1,contentType:"application/json; charset=utf-8",data:c,error:e,success:d,dataType:"json",type:"POST",url:a})},initNav:function(){function b(b){a.getElementById("nav-main").classList.toggle("nav-open"),b.preventDefault()}a.getElementById("nav-trigger").addEventListener("click",b,!1)},initSlides:function(){console.log(a.body.offsetWidth);var b=a.querySelectorAll(".slides"),c=a.body.offsetWidth-30,d=1,e=2,f=8e3,g=500,h=getHiddenProp();b&&b.length&&forEachElement(b,function(i){var j,k=i.querySelectorAll(".slide"),l=i.querySelectorAll(".slides-arrows-prev")[0],m=i.querySelectorAll(".slides-arrows-next")[0],n=0,o=k.length,p=!1,q=null;if(forEachElement(k,function(a){a.style.width=c+"px"}),j=function(a,b){var c;p||(p=!0,q&&clearTimeout(q),a||(a=e),a===e?(c=n,k[n].classList.remove("slide-center"),k[n].classList.add("slide-left"),setTimeout(function(){k[c].classList.add("slide-no-trans"),k[c].classList.remove("slide-left"),k[c].classList.add("slide-right"),setTimeout(function(){k[c].classList.remove("slide-no-trans")},100)},g),++n===o&&(n=0),k[n].classList.remove("slide-right"),k[n].classList.add("slide-center")):(c=n,k[n].classList.remove("slide-center"),k[n].classList.add("slide-right"),--n<0&&(n=o-1),k[n].classList.add("slide-no-trans"),k[n].classList.remove("slide-right"),k[n].classList.add("slide-left"),setTimeout(function(){k[n].classList.remove("slide-no-trans"),k[n].classList.remove("slide-left"),k[n].classList.add("slide-center")},10)),setTimeout(function(){p=!1},g),b&&null!==b||(q=setTimeout(j,f+g)))},l.addEventListener("click",function(a){j(d,!0),a.preventDefault()},!1),m.addEventListener("click",function(a){j(e,!0),a.preventDefault()},!1),1===b.length&&a.addEventListener("keyup",function(a){37===a.keyCode?(j(d,!0),a.preventDefault()):39===a.keyCode&&(j(e,!0),a.preventDefault())},!1),i.classList.contains("slides-auto")&&(q=setTimeout(j,f)),h){var r=h.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(r,function(){isTabHidden()?clearTimeout(q):i.classList.contains("slides-auto")&&(q=setTimeout(j,f))},!1)}})},checkUser:function(){window.SIUser&&SIUser.admin&&Modernizr.load([{load:"/js/libs/quill.js",complete:function(){d.editorWrapper=a.createElement("div"),d.editorWrapper.id="quill-editor",d.editorWrapper.classList.add("quill-wrapper"),d.editorWrapper.classList.add("hidden"),a.body.appendChild(d.editorWrapper),d.editorWrapper.innerHTML='<div id="quill-toolbar" class="quill-toolbar"><span class="sc-format-group"><span title="Bold" class="sc-format-button sc-bold"></span><span class="sc-format-separator"></span><span title="Italic" class="sc-format-button sc-italic"></span><span class="sc-format-separator"></span><span title="Underline" class="sc-format-button sc-underline"></span></span></div><div id="the-editor"><p>Hello World!</div><button id="btn-quill-save">Save</button>',forEachElement(a.querySelectorAll(".module"),function(a){a.addEventListener("click",function(){var b=a.innerHTML;a.classList.contains("editing")||(a.classList.add("editing"),c.moduleId=parseInt(a.getAttribute("data-module-id"),10),console.log(d.quillEditor),console.log(a.innerHTML),a.innerHTML="",a.appendChild(d.editorWrapper),d.editorWrapper.classList.remove("hidden"),d.quillEditor=new Quill("#the-editor",{logLevel:!1,modules:{toolbar:{container:"#quill-toolbar"},"image-tooltip":!0,"link-tooltip":!0},theme:"snow"}),d.quillEditor.setHTML(b))},!1)}),d.btnQuillSave=a.getElementById("btn-quill-save"),d.btnQuillSave.addEventListener("click",function(){var a=d.quillEditor.getHTML();console.log(a)},!1)}}])}},SI.init()}(document,jQuery);